<html>
	<head>
		<title>MSE Set Hub</title>
		<link rel="icon" type="image/x-icon" href="/img/favicon.png">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<style>
	@font-face {
	  font-family: 'Beleren Small Caps';
	  src: url('/resources/beleren-caps.ttf');
	}
	body {
		background-image: linear-gradient(to top, #ffdde1, #ee9ca7);
		background-attachment: fixed;
		overscroll-behavior: none;
		font-family: 'Helvetica', 'Arial', sans-serif;
		display: grid;
	}
	.selects {
		position: absolute;
	}
	.item-container {
		height: auto;
		display: grid;
		justify-self: center;
		align-self: center;
	}
	.item-container .banner {
		max-width: 500px;
		max-height: 200px;
		display: block;
		margin: auto;
		padding: 20px 0;
	}
	select {
		position: absolute;
		text-align: center;
		font-family: -apple-system, system-ui, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
		font-weight: 500;
		cursor: pointer;
		background-color: #F3F3F3;
	}
	input {
		width: 100%;
		max-width: 700px;
		margin: auto;
		height: 50px;
		font-size: 24px;
		color: #171717;
		background-color: #f3f3f3;
		border: 1px solid #d9d9d9;
		border-radius: 2px;
		padding-left: 10px;
		padding-right: 10px;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
	}
	input:focus {
		outline-color: #171717;
	}
	.two-part-grid {
		width: 100%;
		max-width: 700px;
		margin: auto;
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 20px;
		justify-items: center;
	}
	.two-part-grid p {
		width: 100%;
		text-align: center;
		padding-bottom: 8px;
		font-size: 24px;
		font-weight: bolder;
		font-family: 'Georgia';
		margin: 0;
	}
	.container p {
		padding: 11px 0px;
	}
	.preview-container {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 2px;
		justify-items: center;
		align-items: center;
		padding-bottom: 10px;
	}
	.set-group {
		font-family: Beleren Small Caps;
		font-size: 18px;
		width: 100%;
		margin-bottom: 10px;
		border-bottom: 2px solid #171717;
	}
	.button-grid {
		display: grid;
		margin: auto;
		grid-template-columns: repeat(3, 1fr);
		gap: 20px;
		padding-top: 10px;
		padding-bottom: 20px;
	}
	.button-grid button {
		background-color: #171717;
		border: none;
		color: #f3f3f3;
		border-radius: 5px;
		cursor: pointer;
		font-size: 15px;
		width: 150px;
		height: 35px;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 5px;
	}
	button:hover {
		background-color: #000000;
		border: 1px solid #f3f3f3;
	}
	.btn-img {
		width: 24px;
	}
	.container {
		height: fit-content;
		align-self: center;
	}
	.card-container {
		background: #f3f3f3;
		width: 90%;
		border: 1px solid #d5d9d9;
		border-top: 3px solid #171717;
		border-bottom: 3px solid #171717;
		border-radius: 6px;
		display: grid;
		justify-items: center;
		gap: 8px;
		padding-top: 8px;
		padding-bottom: 8px;
		height: fit-content;
	}
	.card-container p {
		border-bottom: 1px solid #898989;
	}
	.card-container a {
		width: 70%;
	}
	.card-container img {
		width: 100%;
		display: block;
		margin: auto;
	}
	.set-icon-container {
		font-family: 'Beleren Small Caps';
		font-size: 12px;
		text-align: center;
		display: grid;
		justify-items: center;
		align-items: center;
		gap: 2px;
		width: 100%;
		height: 100%;
	}
	.set-icon-container a {
		text-decoration: none;
		color: #171717;
		height: 100%;
	}
	.set-icon {
		height: 60px;
		display: grid;
		align-items: center;
		justify-items: center;
	}
	.set-icon img {
		width: 60px;
	}
	.set-icon-name {
		min-height: 30px;
	}
	@media ( max-width: 750px ) {
		.item-container {
			width: 95%;	
		}
		.search-grid {
			width: 95%;
		}
		.two-part-grid p {
			font-size: 18px;
		}
	}
	</style>
	<body>
		<div class="selects" id="selects">
			<select id="color-select" onchange="setGradient()">
			</select>
		</div>
		<div class="item-container">
			<img class="banner" src="img/banner.png"></img>
			<input type="text" inputmode="search" placeholder="Search ..." autofocus="autofocus" name="search" id="search" spellcheck="false" autocomplete="off" autocorrext="off" spellcheck="false">
			<div class="button-grid">
				<button onclick="goToSets()"><img src="/img/sets.png" class="btn-img">All Sets</button>
				<button onclick="goToDeckbuilder()"><img src="/img/deck.png" class="btn-img">Deckbuilder</button>
				<button onclick="randomCard()"><img src="/img/random.png" class="btn-img">Random Card</button>
			</div>
			<div class="two-part-grid">
				<div class="container" id="preview-container">
					<p>Preview Galleries</p>
										<div class="set-group"></div>
							<div class="preview-container">
		<div class="set-icon-container">
									<a href="previews/101"><div class="set-icon"><img src="sets/101-files/icon.png" title="Storytime"></img></div>
									<div class="set-icon-name">Storytime</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ACA"><div class="set-icon"><img src="sets/ACA-files/icon.png" title="Arcanum Academia"></img></div>
									<div class="set-icon-name">Arcanum Academia</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ACT"><div class="set-icon"><img src="sets/ACT-files/icon.png" title="The Stage Presents: The Neverending Act"></img></div>
									<div class="set-icon-name">The Stage Presents: The Neverending Act</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/AFM"><div class="set-icon"><img src="sets/AFM-files/icon.png" title="Aftermath"></img></div>
									<div class="set-icon-name">Aftermath</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/AKD"><div class="set-icon"><img src="sets/AKD-files/icon.png" title="Arkadai"></img></div>
									<div class="set-icon-name">Arkadai</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ALK"><div class="set-icon"><img src="sets/ALK-files/icon.png" title="Alkabah"></img></div>
									<div class="set-icon-name">Alkabah</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ALR"><div class="set-icon"><img src="sets/ALR-files/icon.png" title="Alara"></img></div>
									<div class="set-icon-name">Alara</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ATB"><div class="set-icon"><img src="sets/ATB-files/icon.png" title="Al Tabaq"></img></div>
									<div class="set-icon-name">Al Tabaq</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/AVX"><div class="set-icon"><img src="sets/AVX-files/icon.png" title="Animus Vox"></img></div>
									<div class="set-icon-name">Animus Vox</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/BLR"><div class="set-icon"><img src="sets/BLR-files/icon.png" title="Blood Like Rivers"></img></div>
									<div class="set-icon-name">Blood Like Rivers</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/BTB"><div class="set-icon"><img src="sets/BTB-files/icon.png" title="Beyond the Blackwall"></img></div>
									<div class="set-icon-name">Beyond the Blackwall</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/BYK"><div class="set-icon"><img src="sets/BYK-files/icon.png" title="Beyond Our Ken"></img></div>
									<div class="set-icon-name">Beyond Our Ken</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/CAC"><div class="set-icon"><img src="sets/CAC-files/icon.png" title="Carpe Arcanum"></img></div>
									<div class="set-icon-name">Carpe Arcanum</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/CHAMPIONS"><div class="set-icon"><img src="sets/CHAMPIONS-files/icon.png" title="MSEM Champions"></img></div>
									<div class="set-icon-name">MSEM Champions</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/DHL"><div class="set-icon"><img src="sets/DHL-files/icon.png" title="Descent from the Highlands"></img></div>
									<div class="set-icon-name">Descent from the Highlands</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/DOA"><div class="set-icon"><img src="sets/DOA-files/icon.png" title="Discoveries of Akieva"></img></div>
									<div class="set-icon-name">Discoveries of Akieva</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/DSS"><div class="set-icon"><img src="sets/DSS-files/icon.png" title="Dark Seas of Shiryen"></img></div>
									<div class="set-icon-name">Dark Seas of Shiryen</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/EAU"><div class="set-icon"><img src="sets/EAU-files/icon.png" title="Eralou"></img></div>
									<div class="set-icon-name">Eralou</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/EIA"><div class="set-icon"><img src="sets/EIA-files/icon.png" title="Elmare: Into the Abyss"></img></div>
									<div class="set-icon-name">Elmare: Into the Abyss</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/EOW"><div class="set-icon"><img src="sets/EOW-files/icon.png" title="End of Wollensie"></img></div>
									<div class="set-icon-name">End of Wollensie</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ETF"><div class="set-icon"><img src="sets/ETF-files/icon.png" title="The Empty Throne of Feanav"></img></div>
									<div class="set-icon-name">The Empty Throne of Feanav</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/FLP"><div class="set-icon"><img src="sets/FLP-files/icon.png" title="Foreign Language Promos"></img></div>
									<div class="set-icon-name">Foreign Language Promos</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/FNV"><div class="set-icon"><img src="sets/FNV-files/icon.png" title="Feanav: The Apothecary's Progress"></img></div>
									<div class="set-icon-name">Feanav: The Apothecary's Progress</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/GHQ"><div class="set-icon"><img src="sets/GHQ-files/icon.png" title="Glacia: Hail to the Queen"></img></div>
									<div class="set-icon-name">Glacia: Hail to the Queen</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/GNJ"><div class="set-icon"><img src="sets/GNJ-files/icon.png" title="Goliaths of Nangjiao"></img></div>
									<div class="set-icon-name">Goliaths of Nangjiao</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/HI12"><div class="set-icon"><img src="sets/HI12-files/icon.png" title="High Noon"></img></div>
									<div class="set-icon-name">High Noon</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/HQZ"><div class="set-icon"><img src="sets/HQZ-files/icon.png" title="Hunting Quiet Horizons"></img></div>
									<div class="set-icon-name">Hunting Quiet Horizons</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/HVF"><div class="set-icon"><img src="sets/HVF-files/icon.png" title="Harvest Festival"></img></div>
									<div class="set-icon-name">Harvest Festival</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/HZN"><div class="set-icon"><img src="sets/HZN-files/icon.png" title="New Horizons"></img></div>
									<div class="set-icon-name">New Horizons</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/IMP"><div class="set-icon"><img src="sets/IMP-files/icon.png" title="Imperial Legacies"></img></div>
									<div class="set-icon-name">Imperial Legacies</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/INM"><div class="set-icon"><img src="sets/INM-files/icon.png" title="Innistrad In Memoriam"></img></div>
									<div class="set-icon-name">Innistrad In Memoriam</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/K15"><div class="set-icon"><img src="sets/K15-files/icon.png" title="K15 Core Set"></img></div>
									<div class="set-icon-name">K15 Core Set</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/KLC"><div class="set-icon"><img src="sets/KLC-files/icon.png" title="Kaleidoscope"></img></div>
									<div class="set-icon-name">Kaleidoscope</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/KOD"><div class="set-icon"><img src="sets/KOD-files/icon.png" title="Kahembo: Olde Dawn"></img></div>
									<div class="set-icon-name">Kahembo: Olde Dawn</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/KXP"><div class="set-icon"><img src="sets/KXP-files/icon.png" title="Karina's Explorations"></img></div>
									<div class="set-icon-name">Karina's Explorations</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/KZD"><div class="set-icon"><img src="sets/KZD-files/icon.png" title="Khaliz-Dorahn"></img></div>
									<div class="set-icon-name">Khaliz-Dorahn</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/L"><div class="set-icon"><img src="sets/L-files/icon.png" title="The Land Bundle"></img></div>
									<div class="set-icon-name">The Land Bundle</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/L2"><div class="set-icon"><img src="sets/L2-files/icon.png" title="The Mana Pool"></img></div>
									<div class="set-icon-name">The Mana Pool</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/L3"><div class="set-icon"><img src="sets/L3-files/icon.png" title="The Mana Pool 2"></img></div>
									<div class="set-icon-name">The Mana Pool 2</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/LAIR"><div class="set-icon"><img src="sets/LAIR-files/icon.png" title="MSEM Secret Lair Drops"></img></div>
									<div class="set-icon-name">MSEM Secret Lair Drops</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/LAW"><div class="set-icon"><img src="sets/LAW-files/icon.png" title="Lovi Awoken"></img></div>
									<div class="set-icon-name">Lovi Awoken</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/LVS"><div class="set-icon"><img src="sets/LVS-files/icon.png" title="Love Song"></img></div>
									<div class="set-icon-name">Love Song</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MAC"><div class="set-icon"><img src="sets/MAC-files/icon.png" title="Memorium Arcanum"></img></div>
									<div class="set-icon-name">Memorium Arcanum</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MC25"><div class="set-icon"><img src="sets/MC25-files/icon.png" title="MSEM Masters Cube 2025"></img></div>
									<div class="set-icon-name">MSEM Masters Cube 2025</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MIS"><div class="set-icon"><img src="sets/MIS-files/icon.png" title="Mious"></img></div>
									<div class="set-icon-name">Mious</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MON"><div class="set-icon"><img src="sets/MON-files/icon.png" title="Monsters of Chikyu"></img></div>
									<div class="set-icon-name">Monsters of Chikyu</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MPS_MSE"><div class="set-icon"><img src="sets/MPS_MSE-files/icon.png" title="MSEM Champions"></img></div>
									<div class="set-icon-name">MSEM Champions</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MS1"><div class="set-icon"><img src="sets/MS1-files/icon.png" title="MSEM Masters 2019"></img></div>
									<div class="set-icon-name">MSEM Masters 2019</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MS2"><div class="set-icon"><img src="sets/MS2-files/icon.png" title="MSEM Masters 2020"></img></div>
									<div class="set-icon-name">MSEM Masters 2020</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MS3"><div class="set-icon"><img src="sets/MS3-files/icon.png" title="MSEM Masters 2021"></img></div>
									<div class="set-icon-name">MSEM Masters 2021</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MSC"><div class="set-icon"><img src="sets/MSC-files/icon.png" title="MSEM Masters Cube"></img></div>
									<div class="set-icon-name">MSEM Masters Cube</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MSJ"><div class="set-icon"><img src="sets/MSJ-files/icon.png" title="MSEM Masters: Jumpstart"></img></div>
									<div class="set-icon-name">MSEM Masters: Jumpstart</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/MSL"><div class="set-icon"><img src="sets/MSL-files/icon.png" title="MSEM Masters: Legends"></img></div>
									<div class="set-icon-name">MSEM Masters: Legends</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/NJB"><div class="set-icon"><img src="sets/NJB-files/icon.png" title="Nangjiao In Bloom"></img></div>
									<div class="set-icon-name">Nangjiao In Bloom</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/NVA"><div class="set-icon"><img src="sets/NVA-files/icon.png" title="Novea"></img></div>
									<div class="set-icon-name">Novea</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ONO"><div class="set-icon"><img src="sets/ONO-files/icon.png" title="Adventurers of Onora"></img></div>
									<div class="set-icon-name">Adventurers of Onora</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/OPH"><div class="set-icon"><img src="sets/OPH-files/icon.png" title="Ophorio"></img></div>
									<div class="set-icon-name">Ophorio</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ORP"><div class="set-icon"><img src="sets/ORP-files/icon.png" title="Oirohpo"></img></div>
									<div class="set-icon-name">Oirohpo</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/OTH"><div class="set-icon"><img src="sets/OTH-files/icon.png" title="Over the Horizon"></img></div>
									<div class="set-icon-name">Over the Horizon</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/PAX"><div class="set-icon"><img src="sets/PAX-files/icon.png" title="Panxiou"></img></div>
									<div class="set-icon-name">Panxiou</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/PFP"><div class="set-icon"><img src="sets/PFP-files/icon.png" title="Plagues of Fretport"></img></div>
									<div class="set-icon-name">Plagues of Fretport</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/PLAY"><div class="set-icon"><img src="sets/PLAY-files/icon.png" title="Playtest Cards"></img></div>
									<div class="set-icon-name">Playtest Cards</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/POA"><div class="set-icon"><img src="sets/POA-files/icon.png" title="Pyramids of Atuum"></img></div>
									<div class="set-icon-name">Pyramids of Atuum</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/PSA"><div class="set-icon"><img src="sets/PSA-files/icon.png" title="Path of Shadows"></img></div>
									<div class="set-icon-name">Path of Shadows</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/QRB"><div class="set-icon"><img src="sets/QRB-files/icon.png" title="Quest for the Roseblade"></img></div>
									<div class="set-icon-name">Quest for the Roseblade</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/RCM"><div class="set-icon"><img src="sets/RCM-files/icon.png" title="Road to Carü Mapu"></img></div>
									<div class="set-icon-name">Road to Carü Mapu</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ROS"><div class="set-icon"><img src="sets/ROS-files/icon.png" title="Alkabah: The Rise of Soli"></img></div>
									<div class="set-icon-name">Alkabah: The Rise of Soli</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/RVO"><div class="set-icon"><img src="sets/RVO-files/icon.png" title="Riddles of Revio"></img></div>
									<div class="set-icon-name">Riddles of Revio</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/RWR"><div class="set-icon"><img src="sets/RWR-files/icon.png" title="Rail War"></img></div>
									<div class="set-icon-name">Rail War</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SHRINE"><div class="set-icon"><img src="sets/SHRINE-files/icon.png" title="From the Vault: Wayfarer's Shrine"></img></div>
									<div class="set-icon-name">From the Vault: Wayfarer's Shrine</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SOR"><div class="set-icon"><img src="sets/SOR-files/icon.png" title="Spark of Revolution"></img></div>
									<div class="set-icon-name">Spark of Revolution</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SOU"><div class="set-icon"><img src="sets/SOU-files/icon.png" title="Scriptures of Urshad"></img></div>
									<div class="set-icon-name">Scriptures of Urshad</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SPK"><div class="set-icon"><img src="sets/SPK-files/icon.png" title="Sparks of a Multiverse"></img></div>
									<div class="set-icon-name">Sparks of a Multiverse</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/STN"><div class="set-icon"><img src="sets/STN-files/icon.png" title="Survive the Night"></img></div>
									<div class="set-icon-name">Survive the Night</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SUR"><div class="set-icon"><img src="sets/SUR-files/icon.png" title="Surging Tide"></img></div>
									<div class="set-icon-name">Surging Tide</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/SWR"><div class="set-icon"><img src="sets/SWR-files/icon.png" title="Seasons of War"></img></div>
									<div class="set-icon-name">Seasons of War</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TMI"><div class="set-icon"><img src="sets/TMI-files/icon.png" title="Toll Midnight"></img></div>
									<div class="set-icon-name">Toll Midnight</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TOJ"><div class="set-icon"><img src="sets/TOJ-files/icon.png" title="Tales of Old Jidai"></img></div>
									<div class="set-icon-name">Tales of Old Jidai</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TOW"><div class="set-icon"><img src="sets/TOW-files/icon.png" title="Tides of War"></img></div>
									<div class="set-icon-name">Tides of War</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TPW"><div class="set-icon"><img src="sets/TPW-files/icon.png" title="The Petals Wilt"></img></div>
									<div class="set-icon-name">The Petals Wilt</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TTR"><div class="set-icon"><img src="sets/TTR-files/icon.png" title="Theros Triumphant"></img></div>
									<div class="set-icon-name">Theros Triumphant</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/TWR"><div class="set-icon"><img src="sets/TWR-files/icon.png" title="A Tourney at Whiterun"></img></div>
									<div class="set-icon-name">A Tourney at Whiterun</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/UNR"><div class="set-icon"><img src="sets/UNR-files/icon.png" title="The Unraveling"></img></div>
									<div class="set-icon-name">The Unraveling</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/VHS"><div class="set-icon"><img src="sets/VHS-files/icon.png" title="Video Horror System"></img></div>
									<div class="set-icon-name">Video Horror System</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/VTM"><div class="set-icon"><img src="sets/VTM-files/icon.png" title="Villains: The Musical"></img></div>
									<div class="set-icon-name">Villains: The Musical</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/WAY"><div class="set-icon"><img src="sets/WAY-files/icon.png" title="Worlds Away"></img></div>
									<div class="set-icon-name">Worlds Away</div></a>
								</div>
				<div class="set-icon-container">
									<a href="previews/ZER"><div class="set-icon"><img src="sets/ZER-files/icon.png" title="Zero"></img></div>
									<div class="set-icon-name">Zero</div></a>
								</div>
									</div>
		
				</div>
				<div class="card-container" id="cotd-image">
					<p>Card of the Day</p>
				</div>
			</div>
		</div>
		<script>
			const delay = ms => new Promise(res => setTimeout(res, ms));
			let gradients = [];
			let card_list_arrayified = [];
			let specialchars = "";
			let initial_gradient = true;

			document.addEventListener("DOMContentLoaded", async function () {
				try {
					const response = await fetch('./resources/gradients.json');
					raw_gradients = await response.json();
				}
				catch(error) {
					console.error('Error:', error);
				}

				gradients = raw_gradients.gradients;
				prepareGradients();

				await fetch('/lists/all-cards.json')
					.then(response => response.json())
					.then(json => {
						card_list = json;
				}).catch(error => console.error('Error:', error));

				await fetch('/resources/replacechars.txt')
					.then(response => response.text())
					.then(text => {
						specialchars = text; 
				}).catch(error => console.error('Error:', error));

				card_list_arrayified = card_list.cards;

				card_list_cleaned = [];

				for (const card of card_list_arrayified)
				{
					let card_stats = [];

					for (var key in card)
					{
						if (isNaN(card[key]))
						{
							card_stats[key] = card[key].toLowerCase();
						}
						else
						{
							card_stats[key] = card[key];
						}
					}

					if (!card_stats.shape.includes("token") && !card_stats.type.includes("basic"))
					{
						card_list_cleaned.push(card);
					}
				}

				const cotd = reallyRand(card_list_cleaned.length);
				const card_stats = card_list_cleaned[cotd];

				const a = document.createElement("a");

				const url = new URL('card', window.location.origin);
				const params = {
					set: card_stats.set,
					num: card_stats.number,
					name: card_stats.card_name
				}
				for (const key in params) {
					url.searchParams.append(key, params[key]);
				}
				a.href = url;

				const img = document.createElement("img");
				img.id = "cotd";

				if ("position" in card_stats)
				{
					img.src = '/sets/' + card_stats.set + '-files/img/' + card_stats.position + (card_stats.shape.includes('double') ? '_front' : '') + '.' + card_stats.image_type;
				}
				else
				{
					img.src = '/sets/' + card_stats.set + '-files/img/' + card_stats.number + '_' + card_stats.card_name + (card_stats.shape.includes('double') ? '_front' : '') + '.' + card_stats.image_type;
				}

				a.append(img);
				document.getElementById("cotd-image").append(a);

				do {
					await delay(100);
				}
				while (!isImageOk(document.getElementById("cotd")));
				document.getElementById("preview-container").style.height = document.getElementById("cotd-image").offsetHeight;
			});

			document.getElementById("search").addEventListener("keypress", function(event) {
				if (event.key === "Enter") {
					event.preventDefault();
					search();
				}
			});

			window.addEventListener('resize', function(event) {
				document.getElementById("preview-container").style.height = document.getElementById("cotd-image").offsetHeight;
			}, true);

			function isImageOk(img) {
				if (!img.complete || img.naturalWidth == 0) {
					return false;
				}

				return true;
			}

			// if this doesn't work, blame Gemini
			function reallyRand(x) {
				const date = new Date();
				const seed = date.getFullYear() * 10000 + 
							 date.getMonth() * 100 + 
							 date.getDate();

				const a = 1103515245;
				const c = 12345;
				const m = Math.pow(2, 31);

				let randomNumber = (a * seed + c) % m;
				randomNumber = randomNumber / m;

				return Math.floor(randomNumber * x);
			}

			function prepareGradients() {
				for (const gradient of gradients)
				{
					const opt = document.createElement("option");
					opt.value = gradient.name.replace(' ', '-');
					opt.text = gradient.name;
					document.getElementById("color-select").appendChild(opt);
				}

				setGradient();
			}

			function setGradient() {
				if (!initial_gradient || !localStorage.getItem("gradient"))
				{
					localStorage.setItem("gradient", document.getElementById("color-select").value);
				}
				
				gradient = localStorage.getItem("gradient");

				gradTop = "#000000";
				gradBottom = "#FFFFFF";
				for (const grad of gradients)
				{
					if (gradient == grad.name.replace(' ', '-'))
					{
						gradTop = grad.color1;
						gradBottom = grad.color2;
					}
				}
				
				if (initial_gradient)
				{
					document.getElementById("color-select").value = gradient;
				}

				initial_gradient = false;
				document.body.style.backgroundImage = `linear-gradient(to bottom, ${gradTop}, ${gradBottom})`;
			}

			function goToSets() {
				window.location = ("/all-sets");
			}

			function goToDeckbuilder() {
				window.location = ("/deckbuilder");
			}

			function search() {
				const url = new URL('search', window.location.origin);
				url.searchParams.append('search', document.getElementById("search").value);
				window.location.href = url;
			}

			function randomCard() {
				let i = Math.floor(Math.random() * (card_list_arrayified.length + 1));
				let random_card = card_list_arrayified[i];

				const url = new URL('card', window.location.origin);
				const params = {
					set: random_card.set,
					num: random_card.number,
					name: random_card.card_name
				}
				for (const key in params) {
					url.searchParams.append(key, params[key]);
				}

				window.location.href = url;
			}
		</script>
	</body>
	</html>